const _0x5b9cc0 = _0x2de8; (function (_0x57372b, _0x5a4d0a) { const _0x54d5c6 = _0x2de8, _0x5295ed = _0x57372b(); while (!![]) { try { const _0x2de419 = parseInt(_0x54d5c6(0x178)) / 0x1 + -parseInt(_0x54d5c6(0x21e)) / 0x2 * (-parseInt(_0x54d5c6(0x18c)) / 0x3) + parseInt(_0x54d5c6(0x1b1)) / 0x4 * (-parseInt(_0x54d5c6(0x1d1)) / 0x5) + parseInt(_0x54d5c6(0x1ab)) / 0x6 * (-parseInt(_0x54d5c6(0x1eb)) / 0x7) + -parseInt(_0x54d5c6(0x1d2)) / 0x8 * (-parseInt(_0x54d5c6(0x1ae)) / 0x9) + -parseInt(_0x54d5c6(0x1e8)) / 0xa * (parseInt(_0x54d5c6(0x208)) / 0xb) + -parseInt(_0x54d5c6(0x202)) / 0xc * (-parseInt(_0x54d5c6(0x1f7)) / 0xd); if (_0x2de419 === _0x5a4d0a) break; else _0x5295ed['push'](_0x5295ed['shift']()); } catch (_0x575b76) { _0x5295ed['push'](_0x5295ed['shift']()); } } }(_0x50fd, 0x239fe)); const $ = new Env('添加/删除卡片V0.0.9'); let cards = $[_0x5b9cc0(0x1d0)]('@Bili.Advanced.Live.Cards'); function _0x2de8(_0x3a1c45, _0x193f59) { const _0x50fdcf = _0x50fd(); return _0x2de8 = function (_0x2de8e3, _0xdc38cc) { _0x2de8e3 = _0x2de8e3 - 0x176; let _0x227325 = _0x50fdcf[_0x2de8e3]; return _0x227325; }, _0x2de8(_0x3a1c45, _0x193f59); } !cards && ($[_0x5b9cc0(0x1e1)](_0x5b9cc0(0x22d)), $[_0x5b9cc0(0x177)](JSON[_0x5b9cc0(0x225)]([]), '@Bili.Advanced.Live.Cards'), cards = []); function _0x50fd() { const _0x403e61 = ['getSeconds', 'toString', 'substring', 'image/jpg', 'POST', 'params', 'Quantumult\x20X', 'image/gif', 'parse', 'indexOf', 'getScript', 'setval', 'debug', '[ERROR]\x20', 'isStash', 'http://', '2478nXfTdu', '\x20已添加', '\x20已删除', '19971cunDWk', 'lodash_set', 'map', '431308tcaFWY', 'match', 'resolve', 'slice', 'iconv-lite', 'ckjar', 'isMute', 'wait', '@chavy_boxjs_userCfgs.httpapi_timeout', 'loaddata', 'done', 'write', 'getdata', 'got', 'isLoon', 'path', '.$1', 'Node.js', 'catch', 'toLocaleLowerCase', 'abs', 'test', 'initGotEnv', 'surge-version', 'getTime', 'isMuteLog', 'media-url', 'timeout', 'get', 'url', 'logSeparator', 'getjson', '10eHcHCx', '680zUcxDw', 'Content-Length', 'info', 'substr', 'redirect', 'cookieJar', 'env', 'Delete\x20Success', 'http', 'msg', 'open-url', '\x20已存在', 'readFileSync', 'isShadowrocket', 'body', 'log', 'content-length', 'roomID:\x20', 'read', 'getMilliseconds', 'updatePasteboard', 'logLevels', '10LoNjKX', 'auto-dismiss', 'race', '840fXsAiK', 'logLevel', 'getDate', 'getMonth', 'data:', 'Loon', '/v1/scripting/evaluate', 'call', ',\x20错误!', 'writedata', 'floor', 'post', '471302uPJEcA', 'join', 'cookie', 'fetch', 'replace', 'isNeedRewrite', 'lodash_get', 'includes', 'Cookie', 'mediaUrl', '@Bili.Advanced.Live.Cards', '36ciPsWi', 'logLevelPrefixs', 'split', 'null', 'setCookieSync', 'setValueForKey', '2663606YYDKOQ', 'setjson', 'encoding', 'Stash', 'content-type', 'stack', '请求超时', 'utf-8', 'logs', 'getval', 'runScript', 'trim', 'box.dat', '\x0a🔴房间号\x20', 'status', 'then', 'reduce', 'getMinutes', 'object', 'getEnv', 'method', 'existsSync', '12574ZGFjSe', 'length', 'error', 'warn', 'remove', 'Content-Type', 'string', 'stringify', 'startsWith', 'startTime', 'application/pdf', 'logErr', 'UndefinedError', 'update-pasteboard', 'exec', '\x0a🔴未获取到卡片缓存', 'auto-redirect', 'followRedirect', 'statusCode', 'Shadowrocket', 'headers', 'opts', '[INFO]\x20', 'setdata', '280457XRycMd', 'DIRECT', 'assign', '[WARN]\x20', 'sound', 'name', 'time', 'push', 'rawBody', 'message', 'send', 'Add\x20Success\x20\x20', 'writeFileSync', 'queryStr', 'isNode', 'dataFile', 'cktough', 'undefined', 'isQuanX', 'cwd', '36eVEZqJ', 'getFullYear', 'valueForKey', ',\x20结束!\x20🕛\x20', 'decode', '@chavy_boxjs_userCfgs.httpapi', 'isSurge', 'cron', 'openUrl', 'redirection', 'add', 'CookieJar', 'Surge', 'data', 'toObj']; _0x50fd = function () { return _0x403e61; }; return _0x50fd(); }; (async function () { const _0x49b5de = _0x5b9cc0; $[_0x49b5de(0x1e1)]($request[_0x49b5de(0x1ce)]); const _0x338fcf = $request[_0x49b5de(0x1ce)][_0x49b5de(0x1fe)]('add.card') ? _0x49b5de(0x196) : _0x49b5de(0x222); $[_0x49b5de(0x1e1)]('type:\x20' + _0x338fcf); const _0x4698e3 = $request[_0x49b5de(0x1ce)][_0x49b5de(0x1b2)](/\/(\d+)\?/)[0x1]; $[_0x49b5de(0x1e1)](_0x49b5de(0x1e3) + _0x4698e3); if (_0x338fcf == _0x49b5de(0x196)) cards[_0x49b5de(0x1fe)](_0x4698e3) ? $['log'](_0x49b5de(0x215) + _0x4698e3 + _0x49b5de(0x1dd)) : cards[_0x49b5de(0x17f)](_0x4698e3), $[_0x49b5de(0x177)](JSON[_0x49b5de(0x225)](cards), _0x49b5de(0x201)), $['log']('\x0a🟢房间号\x20' + _0x4698e3 + _0x49b5de(0x1ac)), $[_0x49b5de(0x1bb)]({ 'body': JSON['stringify']({ 'Status': _0x49b5de(0x183), 'Current\x20Cards': cards }), 'encoding': _0x49b5de(0x20f) }); else _0x338fcf == _0x49b5de(0x222) && (cards = cards['filter'](_0x97022 => _0x97022 != _0x4698e3), $[_0x49b5de(0x1e1)]('\x0a🟢房间号\x20' + _0x4698e3 + _0x49b5de(0x1ad)), $[_0x49b5de(0x177)](JSON[_0x49b5de(0x225)](cards), '@Bili.Advanced.Live.Cards'), $[_0x49b5de(0x1bb)]({ 'body': JSON[_0x49b5de(0x225)]({ 'Status': _0x49b5de(0x1d9), 'Current\x20Cards': cards }), 'encoding': _0x49b5de(0x20f) })); }()); function Env(_0x38f7fe, _0xf6233e) { const _0x261d24 = _0x5b9cc0; class _0xde5275 { constructor(_0x12d786) { const _0x485239 = _0x2de8; this[_0x485239(0x1d8)] = _0x12d786; } [_0x261d24(0x182)](_0x7e442f, _0x308d9f = 'GET') { const _0x9878d4 = _0x261d24; _0x7e442f = typeof _0x7e442f === _0x9878d4(0x224) ? { 'url': _0x7e442f } : _0x7e442f; let _0x39ddf2 = this['get']; _0x308d9f === _0x9878d4(0x19f) && (_0x39ddf2 = this['post']); const _0x2d84a6 = (_0x24cb5e, _0x2d53c1 = 0x3e8) => { const _0x21d2bb = _0x9878d4; return Promise[_0x21d2bb(0x1ea)]([_0x24cb5e, new Promise((_0x278522, _0x24744d) => { setTimeout(() => { const _0x3d3e79 = _0x2de8; _0x24744d(new Error(_0x3d3e79(0x20e))); }, _0x2d53c1); })]); }, _0x4fc166 = new Promise((_0x4ba64d, _0x1c56ad) => { const _0x2ad6c7 = _0x9878d4; _0x39ddf2[_0x2ad6c7(0x1f2)](this, _0x7e442f, (_0x5dd655, _0x135128, _0x5470eb) => { if (_0x5dd655) _0x1c56ad(_0x5dd655); else _0x4ba64d(_0x135128); }); }); return _0x7e442f[_0x9878d4(0x1cc)] ? _0x2d84a6(_0x4fc166, _0x7e442f['timeout']) : _0x4fc166; } [_0x261d24(0x1cd)](_0x325f44) { const _0x2a81d4 = _0x261d24; return this[_0x2a81d4(0x182)][_0x2a81d4(0x1f2)](this['env'], _0x325f44); } [_0x261d24(0x1f6)](_0x563076) { const _0x5545e0 = _0x261d24; return this[_0x5545e0(0x182)][_0x5545e0(0x1f2)](this[_0x5545e0(0x1d8)], _0x563076, 'POST'); } } return new class { constructor(_0xb4090c, _0x353f18) { const _0x22f783 = _0x261d24; this['logLevels'] = { 'debug': 0x0, 'info': 0x1, 'warn': 0x2, 'error': 0x3 }, this[_0x22f783(0x203)] = { 'debug': '[DEBUG]\x20', 'info': _0x22f783(0x176), 'warn': _0x22f783(0x17b), 'error': _0x22f783(0x1a8) }, this[_0x22f783(0x1ec)] = _0x22f783(0x1d4), this[_0x22f783(0x17d)] = _0xb4090c, this['http'] = new _0xde5275(this), this[_0x22f783(0x199)] = null, this[_0x22f783(0x187)] = _0x22f783(0x214), this[_0x22f783(0x210)] = [], this[_0x22f783(0x1b7)] = ![], this[_0x22f783(0x1fc)] = ![], this[_0x22f783(0x1cf)] = '\x0a', this[_0x22f783(0x20a)] = _0x22f783(0x20f), this[_0x22f783(0x227)] = new Date()[_0x22f783(0x1c9)](), Object[_0x22f783(0x17a)](this, _0x353f18), this['log']('', '🔔' + this[_0x22f783(0x17d)] + ',\x20开始!'); } [_0x261d24(0x21b)]() { const _0x180734 = _0x261d24; if (_0x180734(0x189) !== typeof $environment && $environment[_0x180734(0x1c8)]) return _0x180734(0x198); if ('undefined' !== typeof $environment && $environment['stash-version']) return 'Stash'; if ('undefined' !== typeof module && !!module['exports']) return _0x180734(0x1c2); if ('undefined' !== typeof $task) return 'Quantumult\x20X'; if (_0x180734(0x189) !== typeof $loon) return _0x180734(0x1f0); if ('undefined' !== typeof $rocket) return _0x180734(0x231); } [_0x261d24(0x186)]() { const _0x1157ce = _0x261d24; return _0x1157ce(0x1c2) === this[_0x1157ce(0x21b)](); } [_0x261d24(0x18a)]() { const _0x4ea007 = _0x261d24; return _0x4ea007(0x1a1) === this['getEnv'](); } [_0x261d24(0x192)]() { const _0x55e29e = _0x261d24; return _0x55e29e(0x198) === this['getEnv'](); } [_0x261d24(0x1bf)]() { const _0x5ed808 = _0x261d24; return _0x5ed808(0x1f0) === this['getEnv'](); } [_0x261d24(0x1df)]() { const _0x2d8ebd = _0x261d24; return _0x2d8ebd(0x231) === this[_0x2d8ebd(0x21b)](); } [_0x261d24(0x1a9)]() { const _0x6bbe35 = _0x261d24; return _0x6bbe35(0x20b) === this[_0x6bbe35(0x21b)](); } [_0x261d24(0x19a)](_0xccbcd9, _0x1f9344 = null) { try { return JSON['parse'](_0xccbcd9); } catch { return _0x1f9344; } } ['toStr'](_0x5af8c6, _0x25940a = null, ..._0x1aa104) { const _0x23a7ff = _0x261d24; try { return JSON[_0x23a7ff(0x225)](_0x5af8c6, ..._0x1aa104); } catch { return _0x25940a; } } ['getjson'](_0x5f65cb, _0x503529) { const _0x1e31af = _0x261d24; let _0x561b45 = _0x503529; const _0x167ed4 = this['getdata'](_0x5f65cb); if (_0x167ed4) try { _0x561b45 = JSON[_0x1e31af(0x1a3)](this[_0x1e31af(0x1bd)](_0x5f65cb)); } catch { } return _0x561b45; } [_0x261d24(0x209)](_0x36683c, _0x4536b7) { try { return this['setdata'](JSON['stringify'](_0x36683c), _0x4536b7); } catch { return ![]; } } [_0x261d24(0x1a5)](_0x1c1083) { return new Promise(_0x12a08f => { this['get']({ 'url': _0x1c1083 }, (_0x3364b4, _0x56b60e, _0x4d298c) => _0x12a08f(_0x4d298c)); }); } [_0x261d24(0x212)](_0x42f630, _0x5279c8) { const _0x57a555 = _0x261d24; return new Promise(_0x5bce0c => { const _0x226ba0 = _0x2de8; let _0x1ef282 = this[_0x226ba0(0x1bd)](_0x226ba0(0x191)); _0x1ef282 = _0x1ef282 ? _0x1ef282[_0x226ba0(0x1fb)](/\n/g, '')[_0x226ba0(0x213)]() : _0x1ef282; let _0x4a36a9 = this[_0x226ba0(0x1bd)](_0x226ba0(0x1b9)); _0x4a36a9 = _0x4a36a9 ? _0x4a36a9 * 0x1 : 0x14, _0x4a36a9 = _0x5279c8 && _0x5279c8[_0x226ba0(0x1cc)] ? _0x5279c8[_0x226ba0(0x1cc)] : _0x4a36a9; const [_0x84971c, _0x5c1614] = _0x1ef282[_0x226ba0(0x204)]('@'), _0x7f4b71 = { 'url': _0x226ba0(0x1aa) + _0x5c1614 + _0x226ba0(0x1f1), 'body': { 'script_text': _0x42f630, 'mock_type': _0x226ba0(0x193), 'timeout': _0x4a36a9 }, 'headers': { 'X-Key': _0x84971c, 'Accept': '*/*' }, 'policy': _0x226ba0(0x179), 'timeout': _0x4a36a9 }; this[_0x226ba0(0x1f6)](_0x7f4b71, (_0x4f183c, _0x519e3b, _0x500036) => _0x5bce0c(_0x500036)); })[_0x57a555(0x1c3)](_0x11259a => this[_0x57a555(0x229)](_0x11259a)); } ['loaddata']() { const _0x13fa37 = _0x261d24; if (this['isNode']()) { this['fs'] = this['fs'] ? this['fs'] : require('fs'), this[_0x13fa37(0x1c0)] = this[_0x13fa37(0x1c0)] ? this[_0x13fa37(0x1c0)] : require('path'); const _0x50dcfc = this[_0x13fa37(0x1c0)][_0x13fa37(0x1b3)](this['dataFile']), _0x486b41 = this['path']['resolve'](process[_0x13fa37(0x18b)](), this[_0x13fa37(0x187)]), _0x2515b5 = this['fs'][_0x13fa37(0x21d)](_0x50dcfc), _0x23a8b5 = !_0x2515b5 && this['fs']['existsSync'](_0x486b41); if (_0x2515b5 || _0x23a8b5) { const _0x49117e = _0x2515b5 ? _0x50dcfc : _0x486b41; try { return JSON[_0x13fa37(0x1a3)](this['fs'][_0x13fa37(0x1de)](_0x49117e)); } catch (_0x6e3918) { return {}; } } else return {}; } else return {}; } [_0x261d24(0x1f4)]() { const _0x58fbf2 = _0x261d24; if (this[_0x58fbf2(0x186)]()) { this['fs'] = this['fs'] ? this['fs'] : require('fs'), this[_0x58fbf2(0x1c0)] = this['path'] ? this[_0x58fbf2(0x1c0)] : require(_0x58fbf2(0x1c0)); const _0xc2dcc0 = this[_0x58fbf2(0x1c0)][_0x58fbf2(0x1b3)](this[_0x58fbf2(0x187)]), _0xfc50eb = this[_0x58fbf2(0x1c0)]['resolve'](process[_0x58fbf2(0x18b)](), this[_0x58fbf2(0x187)]), _0x323bcd = this['fs'][_0x58fbf2(0x21d)](_0xc2dcc0), _0x596e46 = !_0x323bcd && this['fs']['existsSync'](_0xfc50eb), _0x166713 = JSON[_0x58fbf2(0x225)](this[_0x58fbf2(0x199)]); if (_0x323bcd) this['fs']['writeFileSync'](_0xc2dcc0, _0x166713); else _0x596e46 ? this['fs'][_0x58fbf2(0x184)](_0xfc50eb, _0x166713) : this['fs']['writeFileSync'](_0xc2dcc0, _0x166713); } } [_0x261d24(0x1fd)](_0x3374f4, _0x3e92b9, _0x58fabc = undefined) { const _0x25eba3 = _0x261d24, _0x53c72e = _0x3e92b9[_0x25eba3(0x1fb)](/\[(\d+)\]/g, _0x25eba3(0x1c1))[_0x25eba3(0x204)]('.'); let _0x435696 = _0x3374f4; for (const _0x55f891 of _0x53c72e) { _0x435696 = Object(_0x435696)[_0x55f891]; if (_0x435696 === undefined) return _0x58fabc; } return _0x435696; } [_0x261d24(0x1af)](_0x5064b5, _0x47c94f, _0x2f5fd1) { const _0x47464d = _0x261d24; if (Object(_0x5064b5) !== _0x5064b5) return _0x5064b5; if (!Array['isArray'](_0x47c94f)) _0x47c94f = _0x47c94f[_0x47464d(0x19c)]()[_0x47464d(0x1b2)](/[^.[\]]+/g) || []; return _0x47c94f[_0x47464d(0x1b4)](0x0, -0x1)[_0x47464d(0x218)]((_0x27db93, _0x454d51, _0x2c76f1) => Object(_0x27db93[_0x454d51]) === _0x27db93[_0x454d51] ? _0x27db93[_0x454d51] : _0x27db93[_0x454d51] = Math[_0x47464d(0x1c5)](_0x47c94f[_0x2c76f1 + 0x1]) >> 0x0 === +_0x47c94f[_0x2c76f1 + 0x1] ? [] : {}, _0x5064b5)[_0x47c94f[_0x47c94f[_0x47464d(0x21f)] - 0x1]] = _0x2f5fd1, _0x5064b5; } [_0x261d24(0x1bd)](_0x4b3685) { const _0x3316cb = _0x261d24; let _0x5607a2 = this[_0x3316cb(0x211)](_0x4b3685); if (/^@/[_0x3316cb(0x1c6)](_0x4b3685)) { const [, _0x4a15cf, _0x3c3882] = /^@(.*?)\.(.*?)$/['exec'](_0x4b3685), _0x467a15 = _0x4a15cf ? this[_0x3316cb(0x211)](_0x4a15cf) : ''; if (_0x467a15) try { const _0x33fdd2 = JSON['parse'](_0x467a15); _0x5607a2 = _0x33fdd2 ? this[_0x3316cb(0x1fd)](_0x33fdd2, _0x3c3882, '') : _0x5607a2; } catch (_0x3f50f4) { _0x5607a2 = ''; } } return _0x5607a2; } ['setdata'](_0x91f90b, _0x42de64) { const _0x3cf02f = _0x261d24; let _0x2721cc = ![]; if (/^@/[_0x3cf02f(0x1c6)](_0x42de64)) { const [, _0x469be5, _0x145124] = /^@(.*?)\.(.*?)$/[_0x3cf02f(0x22c)](_0x42de64), _0x5db152 = this[_0x3cf02f(0x211)](_0x469be5), _0x25106a = _0x469be5 ? _0x5db152 === _0x3cf02f(0x205) ? null : _0x5db152 || '{}' : '{}'; try { const _0x7a4ac2 = JSON[_0x3cf02f(0x1a3)](_0x25106a); this[_0x3cf02f(0x1af)](_0x7a4ac2, _0x145124, _0x91f90b), _0x2721cc = this[_0x3cf02f(0x1a6)](JSON[_0x3cf02f(0x225)](_0x7a4ac2), _0x469be5); } catch (_0x1e4fa6) { const _0x5be9c0 = {}; this[_0x3cf02f(0x1af)](_0x5be9c0, _0x145124, _0x91f90b), _0x2721cc = this['setval'](JSON[_0x3cf02f(0x225)](_0x5be9c0), _0x469be5); } } else _0x2721cc = this[_0x3cf02f(0x1a6)](_0x91f90b, _0x42de64); return _0x2721cc; } [_0x261d24(0x211)](_0xca3120) { const _0x535f8e = _0x261d24; switch (this[_0x535f8e(0x21b)]()) { case _0x535f8e(0x198): case _0x535f8e(0x1f0): case _0x535f8e(0x20b): case _0x535f8e(0x231): return $persistentStore[_0x535f8e(0x1e4)](_0xca3120); case _0x535f8e(0x1a1): return $prefs[_0x535f8e(0x18e)](_0xca3120); case 'Node.js': this[_0x535f8e(0x199)] = this[_0x535f8e(0x1ba)](); return this[_0x535f8e(0x199)][_0xca3120]; default: return this[_0x535f8e(0x199)] && this['data'][_0xca3120] || null; } } ['setval'](_0x39749c, _0x324806) { const _0x247b47 = _0x261d24; switch (this[_0x247b47(0x21b)]()) { case 'Surge': case _0x247b47(0x1f0): case _0x247b47(0x20b): case 'Shadowrocket': return $persistentStore[_0x247b47(0x1bc)](_0x39749c, _0x324806); case _0x247b47(0x1a1): return $prefs[_0x247b47(0x207)](_0x39749c, _0x324806); case _0x247b47(0x1c2): this[_0x247b47(0x199)] = this[_0x247b47(0x1ba)](), this['data'][_0x324806] = _0x39749c, this[_0x247b47(0x1f4)](); return !![]; default: return this['data'] && this[_0x247b47(0x199)][_0x324806] || null; } } [_0x261d24(0x1c7)](_0x2850cb) { const _0x215a49 = _0x261d24; this['got'] = this[_0x215a49(0x1be)] ? this[_0x215a49(0x1be)] : require(_0x215a49(0x1be)), this[_0x215a49(0x188)] = this[_0x215a49(0x188)] ? this[_0x215a49(0x188)] : require('tough-cookie'), this[_0x215a49(0x1b6)] = this['ckjar'] ? this[_0x215a49(0x1b6)] : new this[(_0x215a49(0x188))][(_0x215a49(0x197))](), _0x2850cb && (_0x2850cb[_0x215a49(0x232)] = _0x2850cb[_0x215a49(0x232)] ? _0x2850cb[_0x215a49(0x232)] : {}, _0x2850cb && (_0x2850cb['headers'] = _0x2850cb[_0x215a49(0x232)] ? _0x2850cb['headers'] : {}, undefined === _0x2850cb[_0x215a49(0x232)][_0x215a49(0x1f9)] && undefined === _0x2850cb[_0x215a49(0x232)][_0x215a49(0x1ff)] && undefined === _0x2850cb[_0x215a49(0x1d7)] && (_0x2850cb[_0x215a49(0x1d7)] = this[_0x215a49(0x1b6)]))); } [_0x261d24(0x1cd)](_0x2b6c94, _0x268da2 = () => { }) { const _0x56cb3b = _0x261d24; _0x2b6c94[_0x56cb3b(0x232)] && (delete _0x2b6c94[_0x56cb3b(0x232)][_0x56cb3b(0x223)], delete _0x2b6c94['headers'][_0x56cb3b(0x1d3)], delete _0x2b6c94[_0x56cb3b(0x232)][_0x56cb3b(0x20c)], delete _0x2b6c94[_0x56cb3b(0x232)][_0x56cb3b(0x1e2)]); _0x2b6c94['params'] && (_0x2b6c94[_0x56cb3b(0x1ce)] += '?' + this['queryStr'](_0x2b6c94[_0x56cb3b(0x1a0)])); if (typeof _0x2b6c94[_0x56cb3b(0x22f)] !== _0x56cb3b(0x189) && !_0x2b6c94[_0x56cb3b(0x22f)]) { if (this['isSurge']() || this['isLoon']()) _0x2b6c94[_0x56cb3b(0x22e)] = ![]; if (this[_0x56cb3b(0x18a)]()) _0x2b6c94[_0x56cb3b(0x233)] ? _0x2b6c94['opts'][_0x56cb3b(0x195)] = ![] : _0x2b6c94[_0x56cb3b(0x233)] = { 'redirection': ![] }; } switch (this[_0x56cb3b(0x21b)]()) { case _0x56cb3b(0x198): case _0x56cb3b(0x1f0): case _0x56cb3b(0x20b): case _0x56cb3b(0x231): default: this['isSurge']() && this[_0x56cb3b(0x1fc)] && (_0x2b6c94[_0x56cb3b(0x232)] = _0x2b6c94['headers'] || {}, Object[_0x56cb3b(0x17a)](_0x2b6c94[_0x56cb3b(0x232)], { 'X-Surge-Skip-Scripting': ![] })); $httpClient['get'](_0x2b6c94, (_0x619d93, _0x481f41, _0x527bd2) => { const _0x3f546a = _0x56cb3b; !_0x619d93 && _0x481f41 && (_0x481f41[_0x3f546a(0x1e0)] = _0x527bd2, _0x481f41[_0x3f546a(0x230)] = _0x481f41[_0x3f546a(0x216)] ? _0x481f41[_0x3f546a(0x216)] : _0x481f41[_0x3f546a(0x230)], _0x481f41[_0x3f546a(0x216)] = _0x481f41[_0x3f546a(0x230)]), _0x268da2(_0x619d93, _0x481f41, _0x527bd2); }); break; case _0x56cb3b(0x1a1): this['isNeedRewrite'] && (_0x2b6c94[_0x56cb3b(0x233)] = _0x2b6c94['opts'] || {}, Object[_0x56cb3b(0x17a)](_0x2b6c94[_0x56cb3b(0x233)], { 'hints': ![] })); $task['fetch'](_0x2b6c94)[_0x56cb3b(0x217)](_0xbc60b9 => { const { statusCode: _0x2eb457, statusCode: _0x3857a3, headers: _0x54f35b, body: _0x1a57a9, bodyBytes: _0x5b2082 } = _0xbc60b9; _0x268da2(null, { 'status': _0x2eb457, 'statusCode': _0x3857a3, 'headers': _0x54f35b, 'body': _0x1a57a9, 'bodyBytes': _0x5b2082 }, _0x1a57a9, _0x5b2082); }, _0x2e16e7 => _0x268da2(_0x2e16e7 && _0x2e16e7[_0x56cb3b(0x220)] || 'UndefinedError')); break; case _0x56cb3b(0x1c2): let _0x3c67d3 = require(_0x56cb3b(0x1b5)); this[_0x56cb3b(0x1c7)](_0x2b6c94), this['got'](_0x2b6c94)['on'](_0x56cb3b(0x1d6), (_0x10322b, _0x11fffc) => { const _0x21aa0f = _0x56cb3b; try { if (_0x10322b['headers']['set-cookie']) { const _0x3d43d7 = _0x10322b[_0x21aa0f(0x232)]['set-cookie'][_0x21aa0f(0x1b0)](this[_0x21aa0f(0x188)]['Cookie'][_0x21aa0f(0x1a3)])['toString'](); _0x3d43d7 && this['ckjar'][_0x21aa0f(0x206)](_0x3d43d7, null), _0x11fffc[_0x21aa0f(0x1d7)] = this[_0x21aa0f(0x1b6)]; } } catch (_0x444347) { this[_0x21aa0f(0x229)](_0x444347); } })[_0x56cb3b(0x217)](_0x4c4478 => { const _0x27f71f = _0x56cb3b, { statusCode: _0x53e426, statusCode: _0x3b3b47, headers: _0x12bd3d, rawBody: _0x44eb97 } = _0x4c4478, _0x4f10db = _0x3c67d3[_0x27f71f(0x190)](_0x44eb97, this[_0x27f71f(0x20a)]); _0x268da2(null, { 'status': _0x53e426, 'statusCode': _0x3b3b47, 'headers': _0x12bd3d, 'rawBody': _0x44eb97, 'body': _0x4f10db }, _0x4f10db); }, _0x4854f8 => { const _0x5af106 = _0x56cb3b, { message: _0x36e7dd, response: _0x58a4de } = _0x4854f8; _0x268da2(_0x36e7dd, _0x58a4de, _0x58a4de && _0x3c67d3['decode'](_0x58a4de[_0x5af106(0x180)], this['encoding'])); }); break; } } ['post'](_0x2776b2, _0x160e9f = () => { }) { const _0x4f88ab = _0x261d24, _0x2faa5a = _0x2776b2[_0x4f88ab(0x21c)] ? _0x2776b2['method'][_0x4f88ab(0x1c4)]() : _0x4f88ab(0x1f6); _0x2776b2[_0x4f88ab(0x1e0)] && _0x2776b2[_0x4f88ab(0x232)] && !_0x2776b2['headers'][_0x4f88ab(0x223)] && !_0x2776b2[_0x4f88ab(0x232)][_0x4f88ab(0x20c)] && (_0x2776b2['headers']['content-type'] = 'application/x-www-form-urlencoded'); _0x2776b2[_0x4f88ab(0x232)] && (delete _0x2776b2[_0x4f88ab(0x232)][_0x4f88ab(0x1d3)], delete _0x2776b2[_0x4f88ab(0x232)][_0x4f88ab(0x1e2)]); if (typeof _0x2776b2[_0x4f88ab(0x22f)] !== _0x4f88ab(0x189) && !_0x2776b2[_0x4f88ab(0x22f)]) { if (this[_0x4f88ab(0x192)]() || this[_0x4f88ab(0x1bf)]()) _0x2776b2[_0x4f88ab(0x22e)] = ![]; if (this['isQuanX']()) _0x2776b2['opts'] ? _0x2776b2['opts'][_0x4f88ab(0x195)] = ![] : _0x2776b2['opts'] = { 'redirection': ![] }; } switch (this[_0x4f88ab(0x21b)]()) { case _0x4f88ab(0x198): case 'Loon': case _0x4f88ab(0x20b): case _0x4f88ab(0x231): default: this[_0x4f88ab(0x192)]() && this['isNeedRewrite'] && (_0x2776b2[_0x4f88ab(0x232)] = _0x2776b2[_0x4f88ab(0x232)] || {}, Object[_0x4f88ab(0x17a)](_0x2776b2[_0x4f88ab(0x232)], { 'X-Surge-Skip-Scripting': ![] })); $httpClient[_0x2faa5a](_0x2776b2, (_0x5cbc24, _0x5ecb58, _0x2ca959) => { const _0x12d9d6 = _0x4f88ab; !_0x5cbc24 && _0x5ecb58 && (_0x5ecb58[_0x12d9d6(0x1e0)] = _0x2ca959, _0x5ecb58[_0x12d9d6(0x230)] = _0x5ecb58['status'] ? _0x5ecb58['status'] : _0x5ecb58[_0x12d9d6(0x230)], _0x5ecb58[_0x12d9d6(0x216)] = _0x5ecb58['statusCode']), _0x160e9f(_0x5cbc24, _0x5ecb58, _0x2ca959); }); break; case 'Quantumult\x20X': _0x2776b2[_0x4f88ab(0x21c)] = _0x2faa5a; this[_0x4f88ab(0x1fc)] && (_0x2776b2[_0x4f88ab(0x233)] = _0x2776b2[_0x4f88ab(0x233)] || {}, Object['assign'](_0x2776b2[_0x4f88ab(0x233)], { 'hints': ![] })); $task[_0x4f88ab(0x1fa)](_0x2776b2)[_0x4f88ab(0x217)](_0xaae920 => { const { statusCode: _0x63e973, statusCode: _0x24dc73, headers: _0x50ca44, body: _0x134e80, bodyBytes: _0x104a21 } = _0xaae920; _0x160e9f(null, { 'status': _0x63e973, 'statusCode': _0x24dc73, 'headers': _0x50ca44, 'body': _0x134e80, 'bodyBytes': _0x104a21 }, _0x134e80, _0x104a21); }, _0x2b656c => _0x160e9f(_0x2b656c && _0x2b656c[_0x4f88ab(0x220)] || _0x4f88ab(0x22a))); break; case _0x4f88ab(0x1c2): let _0x4e07ab = require(_0x4f88ab(0x1b5)); this[_0x4f88ab(0x1c7)](_0x2776b2); const { url: _0x146410, ..._0x42af24 } = _0x2776b2; this[_0x4f88ab(0x1be)][_0x2faa5a](_0x146410, _0x42af24)['then'](_0x3d8bcc => { const _0x356316 = _0x4f88ab, { statusCode: _0x477d39, statusCode: _0x4a799e, headers: _0x37e782, rawBody: _0x46f7ba } = _0x3d8bcc, _0x2a9377 = _0x4e07ab[_0x356316(0x190)](_0x46f7ba, this[_0x356316(0x20a)]); _0x160e9f(null, { 'status': _0x477d39, 'statusCode': _0x4a799e, 'headers': _0x37e782, 'rawBody': _0x46f7ba, 'body': _0x2a9377 }, _0x2a9377); }, _0x3cff99 => { const _0x5b7cc6 = _0x4f88ab, { message: _0x270f76, response: _0x285e1e } = _0x3cff99; _0x160e9f(_0x270f76, _0x285e1e, _0x285e1e && _0x4e07ab['decode'](_0x285e1e[_0x5b7cc6(0x180)], this[_0x5b7cc6(0x20a)])); }); break; } } [_0x261d24(0x17e)](_0x4e80cb, _0x205f8a = null) { const _0x12ad05 = _0x261d24, _0x2e4125 = _0x205f8a ? new Date(_0x205f8a) : new Date(); let _0x211385 = { 'M+': _0x2e4125[_0x12ad05(0x1ee)]() + 0x1, 'd+': _0x2e4125[_0x12ad05(0x1ed)](), 'H+': _0x2e4125['getHours'](), 'm+': _0x2e4125[_0x12ad05(0x219)](), 's+': _0x2e4125[_0x12ad05(0x19b)](), 'q+': Math[_0x12ad05(0x1f5)]((_0x2e4125[_0x12ad05(0x1ee)]() + 0x3) / 0x3), 'S': _0x2e4125[_0x12ad05(0x1e5)]() }; if (/(y+)/[_0x12ad05(0x1c6)](_0x4e80cb)) _0x4e80cb = _0x4e80cb[_0x12ad05(0x1fb)](RegExp['$1'], (_0x2e4125[_0x12ad05(0x18d)]() + '')[_0x12ad05(0x1d5)](0x4 - RegExp['$1']['length'])); for (let _0x4406ac in _0x211385) if (new RegExp('(' + _0x4406ac + ')')[_0x12ad05(0x1c6)](_0x4e80cb)) _0x4e80cb = _0x4e80cb['replace'](RegExp['$1'], RegExp['$1'][_0x12ad05(0x21f)] == 0x1 ? _0x211385[_0x4406ac] : ('00' + _0x211385[_0x4406ac])[_0x12ad05(0x1d5)](('' + _0x211385[_0x4406ac])['length'])); return _0x4e80cb; } [_0x261d24(0x185)](_0x5ebd34) { const _0x28590a = _0x261d24; let _0x2d6eeb = ''; for (const _0x1bdbc7 in _0x5ebd34) { let _0x171c5e = _0x5ebd34[_0x1bdbc7]; _0x171c5e != null && _0x171c5e !== '' && (typeof _0x171c5e === _0x28590a(0x21a) && (_0x171c5e = JSON['stringify'](_0x171c5e)), _0x2d6eeb += _0x1bdbc7 + '=' + _0x171c5e + '&'); } return _0x2d6eeb = _0x2d6eeb[_0x28590a(0x19d)](0x0, _0x2d6eeb[_0x28590a(0x21f)] - 0x1), _0x2d6eeb; } [_0x261d24(0x1db)](_0xe0a773 = _0x38f7fe, _0x557a3e = '', _0x4b10e2 = '', _0x1ac240 = {}) { const _0x2c3f50 = _0x261d24, _0x3b8938 = _0x5f1891 => { const _0x40a5f6 = _0x2de8, { $open: _0x32cdb0, $copy: _0x58fcab, $media: _0x1b6be3, $mediaMime: _0x19c89f } = _0x5f1891; switch (typeof _0x5f1891) { case undefined: return _0x5f1891; case 'string': switch (this[_0x40a5f6(0x21b)]()) { case 'Surge': case _0x40a5f6(0x20b): default: return { 'url': _0x5f1891 }; case _0x40a5f6(0x1f0): case 'Shadowrocket': return _0x5f1891; case 'Quantumult\x20X': return { 'open-url': _0x5f1891 }; case 'Node.js': return undefined; }case 'object': switch (this['getEnv']()) { case _0x40a5f6(0x198): case _0x40a5f6(0x20b): case _0x40a5f6(0x231): default: { const _0x28366e = {}; let _0x5acd35 = _0x5f1891['openUrl'] || _0x5f1891['url'] || _0x5f1891[_0x40a5f6(0x1dc)] || _0x32cdb0; if (_0x5acd35) Object[_0x40a5f6(0x17a)](_0x28366e, { 'action': 'open-url', 'url': _0x5acd35 }); let _0xf0c029 = _0x5f1891['update-pasteboard'] || _0x5f1891[_0x40a5f6(0x1e6)] || _0x58fcab; _0xf0c029 && Object[_0x40a5f6(0x17a)](_0x28366e, { 'action': 'clipboard', 'text': _0xf0c029 }); if (_0x1b6be3) { let _0x3082c1 = undefined, _0x1096f3 = undefined, _0x560530 = undefined; if (_0x1b6be3[_0x40a5f6(0x226)](_0x40a5f6(0x1da))) _0x3082c1 = _0x1b6be3; else { if (_0x1b6be3['startsWith']('data:')) { const [_0x58caad] = _0x1b6be3[_0x40a5f6(0x204)](';'), [, _0x138015] = _0x1b6be3[_0x40a5f6(0x204)](','); _0x1096f3 = _0x138015, _0x560530 = _0x58caad['replace'](_0x40a5f6(0x1ef), ''); } else { const _0x1f3eb7 = _0x461d19 => { const _0x5c79fc = _0x40a5f6, _0x3881ef = { 'JVBERi0': _0x5c79fc(0x228), 'R0lGODdh': 'image/gif', 'R0lGODlh': _0x5c79fc(0x1a2), 'iVBORw0KGgo': 'image/png', '/9j/': _0x5c79fc(0x19e) }; for (var _0x52113f in _0x3881ef) { if (_0x461d19[_0x5c79fc(0x1a4)](_0x52113f) === 0x0) return _0x3881ef[_0x52113f]; } return null; }; _0x1096f3 = _0x1b6be3, _0x560530 = _0x1f3eb7(_0x1b6be3); } } Object['assign'](_0x28366e, { 'media-url': _0x3082c1, 'media-base64': _0x1096f3, 'media-base64-mime': _0x19c89f ?? _0x560530 }); } return Object['assign'](_0x28366e, { 'auto-dismiss': _0x5f1891[_0x40a5f6(0x1e9)], 'sound': _0x5f1891[_0x40a5f6(0x17c)] }), _0x28366e; } case 'Loon': { const _0x2155c6 = {}; let _0x8d4efa = _0x5f1891[_0x40a5f6(0x194)] || _0x5f1891['url'] || _0x5f1891['open-url'] || _0x32cdb0; if (_0x8d4efa) Object[_0x40a5f6(0x17a)](_0x2155c6, { 'openUrl': _0x8d4efa }); let _0x140681 = _0x5f1891[_0x40a5f6(0x200)] || _0x5f1891[_0x40a5f6(0x1cb)]; if (_0x1b6be3?.['startsWith'](_0x40a5f6(0x1da))) _0x140681 = _0x1b6be3; if (_0x140681) Object[_0x40a5f6(0x17a)](_0x2155c6, { 'mediaUrl': _0x140681 }); return console[_0x40a5f6(0x1e1)](JSON[_0x40a5f6(0x225)](_0x2155c6)), _0x2155c6; } case _0x40a5f6(0x1a1): { const _0x5e8507 = {}; let _0x39be6e = _0x5f1891[_0x40a5f6(0x1dc)] || _0x5f1891[_0x40a5f6(0x1ce)] || _0x5f1891[_0x40a5f6(0x194)] || _0x32cdb0; if (_0x39be6e) Object[_0x40a5f6(0x17a)](_0x5e8507, { 'open-url': _0x39be6e }); let _0x21fc2d = _0x5f1891[_0x40a5f6(0x1cb)] || _0x5f1891['mediaUrl']; if (_0x1b6be3?.[_0x40a5f6(0x226)](_0x40a5f6(0x1da))) _0x21fc2d = _0x1b6be3; if (_0x21fc2d) Object[_0x40a5f6(0x17a)](_0x5e8507, { 'media-url': _0x21fc2d }); let _0x13b295 = _0x5f1891[_0x40a5f6(0x22b)] || _0x5f1891[_0x40a5f6(0x1e6)] || _0x58fcab; if (_0x13b295) Object[_0x40a5f6(0x17a)](_0x5e8507, { 'update-pasteboard': _0x13b295 }); return console['log'](JSON['stringify'](_0x5e8507)), _0x5e8507; } case 'Node.js': return undefined; }default: return undefined; } }; if (!this[_0x2c3f50(0x1b7)]) switch (this['getEnv']()) { case 'Surge': case _0x2c3f50(0x1f0): case 'Stash': case _0x2c3f50(0x231): default: $notification['post'](_0xe0a773, _0x557a3e, _0x4b10e2, _0x3b8938(_0x1ac240)); break; case _0x2c3f50(0x1a1): $notify(_0xe0a773, _0x557a3e, _0x4b10e2, _0x3b8938(_0x1ac240)); break; case 'Node.js': break; }if (!this[_0x2c3f50(0x1ca)]) { let _0x4f3562 = ['', '==============📣系统通知📣==============']; _0x4f3562['push'](_0xe0a773), _0x557a3e ? _0x4f3562['push'](_0x557a3e) : '', _0x4b10e2 ? _0x4f3562[_0x2c3f50(0x17f)](_0x4b10e2) : '', console[_0x2c3f50(0x1e1)](_0x4f3562['join']('\x0a')), this[_0x2c3f50(0x210)] = this[_0x2c3f50(0x210)]['concat'](_0x4f3562); } } [_0x261d24(0x1a7)](..._0x1ec9b9) { const _0x23c6e8 = _0x261d24; this['logLevels'][this[_0x23c6e8(0x1ec)]] <= this[_0x23c6e8(0x1e7)]['debug'] && (_0x1ec9b9[_0x23c6e8(0x21f)] > 0x0 && (this[_0x23c6e8(0x210)] = [...this['logs'], ..._0x1ec9b9]), console[_0x23c6e8(0x1e1)]('' + this[_0x23c6e8(0x203)][_0x23c6e8(0x1a7)] + _0x1ec9b9[_0x23c6e8(0x1b0)](_0x3e44f1 => _0x3e44f1 ?? String(_0x3e44f1))[_0x23c6e8(0x1f8)](this[_0x23c6e8(0x1cf)]))); } ['info'](..._0xea7a46) { const _0x2b8173 = _0x261d24; this[_0x2b8173(0x1e7)][this[_0x2b8173(0x1ec)]] <= this[_0x2b8173(0x1e7)][_0x2b8173(0x1d4)] && (_0xea7a46[_0x2b8173(0x21f)] > 0x0 && (this[_0x2b8173(0x210)] = [...this[_0x2b8173(0x210)], ..._0xea7a46]), console['log']('' + this[_0x2b8173(0x203)][_0x2b8173(0x1d4)] + _0xea7a46[_0x2b8173(0x1b0)](_0x20cf92 => _0x20cf92 ?? String(_0x20cf92))[_0x2b8173(0x1f8)](this[_0x2b8173(0x1cf)]))); } [_0x261d24(0x221)](..._0x2d8ead) { const _0x429e10 = _0x261d24; this['logLevels'][this[_0x429e10(0x1ec)]] <= this[_0x429e10(0x1e7)]['warn'] && (_0x2d8ead[_0x429e10(0x21f)] > 0x0 && (this[_0x429e10(0x210)] = [...this[_0x429e10(0x210)], ..._0x2d8ead]), console[_0x429e10(0x1e1)]('' + this[_0x429e10(0x203)][_0x429e10(0x221)] + _0x2d8ead[_0x429e10(0x1b0)](_0x315aa4 => _0x315aa4 ?? String(_0x315aa4))[_0x429e10(0x1f8)](this[_0x429e10(0x1cf)]))); } ['error'](..._0x15b0e6) { const _0x1fdb2c = _0x261d24; this[_0x1fdb2c(0x1e7)][this['logLevel']] <= this[_0x1fdb2c(0x1e7)][_0x1fdb2c(0x220)] && (_0x15b0e6[_0x1fdb2c(0x21f)] > 0x0 && (this[_0x1fdb2c(0x210)] = [...this[_0x1fdb2c(0x210)], ..._0x15b0e6]), console[_0x1fdb2c(0x1e1)]('' + this[_0x1fdb2c(0x203)][_0x1fdb2c(0x220)] + _0x15b0e6[_0x1fdb2c(0x1b0)](_0x1cfe54 => _0x1cfe54 ?? String(_0x1cfe54))[_0x1fdb2c(0x1f8)](this['logSeparator']))); } [_0x261d24(0x1e1)](..._0x488a4e) { const _0x24e6b2 = _0x261d24; _0x488a4e[_0x24e6b2(0x21f)] > 0x0 && (this[_0x24e6b2(0x210)] = [...this[_0x24e6b2(0x210)], ..._0x488a4e]), console[_0x24e6b2(0x1e1)](_0x488a4e['map'](_0x27f94a => _0x27f94a ?? String(_0x27f94a))[_0x24e6b2(0x1f8)](this[_0x24e6b2(0x1cf)])); } ['logErr'](_0xe21a48, _0x895173) { const _0x18ffd0 = _0x261d24; switch (this[_0x18ffd0(0x21b)]()) { case _0x18ffd0(0x198): case _0x18ffd0(0x1f0): case 'Stash': case _0x18ffd0(0x231): case 'Quantumult\x20X': default: this[_0x18ffd0(0x1e1)]('', '❗️' + this[_0x18ffd0(0x17d)] + _0x18ffd0(0x1f3), _0x895173, _0xe21a48); break; case _0x18ffd0(0x1c2): this[_0x18ffd0(0x1e1)]('', '❗️' + this[_0x18ffd0(0x17d)] + ',\x20错误!', _0x895173, typeof _0xe21a48['message'] !== _0x18ffd0(0x189) ? _0xe21a48[_0x18ffd0(0x181)] : _0xe21a48, _0xe21a48[_0x18ffd0(0x20d)]); break; } } [_0x261d24(0x1b8)](_0x4706dc) { return new Promise(_0xf3ed4 => setTimeout(_0xf3ed4, _0x4706dc)); } ['done'](_0x426338 = {}) { const _0x4eb2d7 = _0x261d24, _0x14d88a = new Date()[_0x4eb2d7(0x1c9)](), _0x19f0e6 = (_0x14d88a - this[_0x4eb2d7(0x227)]) / 0x3e8; this[_0x4eb2d7(0x1e1)]('', '🔔' + this['name'] + _0x4eb2d7(0x18f) + _0x19f0e6 + '\x20秒'), this[_0x4eb2d7(0x1e1)](); switch (this[_0x4eb2d7(0x21b)]()) { case 'Surge': case _0x4eb2d7(0x1f0): case _0x4eb2d7(0x20b): case _0x4eb2d7(0x231): case _0x4eb2d7(0x1a1): default: $done(_0x426338); break; case 'Node.js': process['exit'](0x1); } } }(_0x38f7fe, _0xf6233e); }